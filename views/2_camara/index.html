{{extend 'layout.html'}}
{{block head}}
<style type="text/css">

    .No_GPS .double, .No_GPS .date, .No_GPS .string, .No_GPS .time
    {
        margin-right: 2cm;
        width: 4cm;
    }
    
    .No_GPS .generic-widget
    {
    	margin-right: 2cm;
        width: 4.4cm;
    }

    .GPS .integer, .GPS .double
    {
        width: 2cm;
    }
    
    .GPS .generic-widget
    {
        width: 2.5cm;
    }
    
    .Centrar
    {
        text-align: center;
    }
    
    #enviar
    {
        float: left;
    }

</style>
{{end}}


{{=response.toolbar()}}


<form action="" enctype="multipart/form-data" method="post">
	<input type="hidden" name="_formname" value="formaHTML"/>
	<fieldset>
		<legend>
		Datos de la cámara
		</legend>
		<table class="No_GPS">
			<tr>
				<td>
					<div>
						<label for="tabla_conglomerado_muestra_id">Conglomerado</label>
					</div>
					<div>
						<select class="generic-widget" name="conglomerado_muestra_id" id="tabla_conglomerado_muestra_id">
							<option value=""/>
							{{for conglomerado in listaConglomerados:}}
								<option value="{{=conglomerado.id}}">
									{{=conglomerado.nombre}}
								</option>
							{{pass}}
						</select>
					</div>
				</td>				
				<td>
					<div>
						<label for="tabla_sitio_numero">Sitio</label>
					</div>
					<div>
						<select class="generic-widget" name="sitio_numero" id="tabla_sitio_numero">
							<option value=""/>
					</div>
					<!--El siguiente div se llena con AJAX-->
					<div id="shadow_clone">
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_distancia_centro">Distancia al centro del sitio (m)</label>
					</div>
					<div>
						<input class="double" name="distancia_centro" id="tabla_distancia_centro" type="text" value=""/>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div>
						<label for="tabla_fecha_inicio">Fecha de colocación</label>
					</div>
					<div>
						<input class="date" name="fecha_inicio" id="tabla_fecha_inicio" type="text" value=""/>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_hora_inicio">Hora inicio</label>
					</div>
					<div>
						<input class="time" name="hora_inicio" id="tabla_hora_inicio" type="text" value=""/>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_llovio">Llovió durante el muestreo</label>
					</div>
					<div>
						<input class="boolean" name="llovio" id="tabla_llovio" type="checkbox" value="on"/>
					</div>
				</td>
			</tr>
        	<tr>
        		<td>
					<div>
						<label for="tabla_fecha_termino">Fecha de levantamiento</label>
					</div>
					<div>
						<input class="date" name="fecha_termino" id="tabla_fecha_termino" type="text" value=""/>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_hora_termino">Hora término</label>
					</div>
					<div>
						<input class="time" name="hora_termino" id="tabla_hora_termino" type="text" value=""/>
					</div>
				</td>
				<td>
				</td>
			</tr>
    	</table>
    	<table class="GPS">
    		<tr>
    			<th colspan="3", class="Centrar">
                	Latitud
            	</th>
            	<th colspan="3", class="Centrar">
                	Longitud
            	</th>
            	<th>
            	</th>
            	<th>
            	</th>
            	<th>
            	</th>
            </tr>
			<tr>
            	<th>
            		<label for="lat_grado">Grado</label>
            	</th>
            	<th>
            		<label for="lat_min">Minuto</label>
            	</th>
            	<th>
            		<label for="lat_seg">Segundo</label>
            	</th>
            	<th>
            		<label for="lon_grado">Grado</label>
            	</th>
            	<th>
        			<label for="lon_min">Minuto</label>
            	</th>
            	<th>
            		<label for="lon_seg">Segundo</label>
            	</th>
            	<th>            	    
            		<label for="tabla_elipsoide">Datum</label>
            	</th>
            	<th>
            		<label for="tabla_altitud">Altitud(m)</label>
            	</th>
            	<th>
            		<label for="tabla_gps_error">Error(m)</label>
            	</th>
            </tr>

            <tr>
            	<td>
            		<input class="integer" name="lat_grado" id="tabla_lat_grado" type="text"/>
            	</td>
            	<td>
            		<input class="integer" name="lat_min" id="tabla_lat_min" type="text"/>
            	</td>
            	<td>
            		<input class="double" name="lat_seg" id="tabla_lat_seg" type="text"/>
            	</td>
            	<td>
            		<input class="integer" name="lon_grado" id="tabla_lon_grado" type="text"/>
            	</td>
            	<td>
        			<input class="integer" name="lon_min" id="tabla_lon_min" type="text"/>
            	</td>
            	<td>
            		<input class="double" name="lon_seg" id="tabla_lon_seg" type="text"/>
            	</td>
            	<td>
        			<select class="generic-widget" name="elipsoide" id="tabla_elipsoide">
        					<option value=""/>
							<option value="1">Gato</option>
					</select>
            	</td>
            	<td>
            		<input class="double" name="altitud" id="tabla_altitud" type="text" value=""/>
            	</td>
            	<td>
            	    <input class="double" name="gps_error" id="tabla_gps_error" type="text" value=""/>
            	</td>
            </tr>
    	</table>
    	<table class="No_GPS">
    		<tr>
    			<td>
					<div>
						<label for="tabla_nombre">Código cámara</label>
					</div>
					<div>
						<select class="generic-widget" name="nombre" id="tabla_nombre">
							<option value=""/>
							<option value="1">Gato</option>			
						</select>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_resolucion">Resolución</label>
					</div>
					<div>
						<select class="generic-widget" name="resolucion" id="tabla_resolucion">
							<option value=""/>
							<option value="1">Gato</option>
						</select>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_sensibilidad">Sensibilidad</label>
					</div>
					<div>
						<select class="generic-widget" name="sensibilidad" id="tabla_sensibilidad">
							<option value=""/>
							<option value="1">Gato</option>
						</select>
					</div>
				</td>
				<td>
					<div>
						<label for="tabla_imagen_camara">Foto cámara y GPS</label>
					</div>
					<div>
						<input type="file" id="tabla_imagen_camara" name="imagen_camara"/>
					</div>
				</td>
			</tr>
    	</table>
    </fieldset>
    <fieldset>
    	<legend>
    		Subir imágenes y videos
    	</legend>
		<div>
			<input type="file" id="tabla_archivos_camara" name="archivos_camara" multiple/>
		</div>
	</fieldset>
    <fieldset>
    	<legend>
    		Observaciones
    	</legend>
    	    <textarea class="text" cols="40" id="tabla_comentario" name="comentario" rows="10">
    	    </textarea>
	</fieldset>
	<input type="submit" value="Enviar" class="btn" id="enviar"/>
</form>

<script>

	$('#tabla_conglomerado_muestra_id').change
	(
    	function()
    	{
    		$('#tabla_sitio_numero').remove();
    		ajax('asignarSitios', ['conglomerado_muestra_id'], 'shadow_clone');
    	}


        	/*if($('#tabla_conglomerado_muestra_id').val()==="")
        	{
     				//$('#tabla_sitio_numero').val("");
        			alert('gato');
        			//$('#tabla_sitio_numero_2').val("");
        	}*/
        	//else
        	//{
        		//$('#tabla_sitio_numero').remove();
        	//}
 				//$('#tabla_sitio_numero').remove();
   		}
   	)
</script>