{{extend 'layout.html'}}
{{block head}}
<style type="text/css">

    .cong_tabla .integer, .cong_tabla .date, .cong_tabla .string, .cong_tabla .double
    {
        margin-right: 2cm;
        width: 4cm;
    }

    .cong_tabla #Conglomerado_muestra_tipo, .cong_tabla #Conglomerado_muestra_uso_suelo_tipo,
    .cong_tabla #Conglomerado_muestra_estado, .cong_tabla #Conglomerado_muestra_vegetacion_tipo,
    .cong_tabla #Conglomerado_muestra_tenencia
    {
        margin-right: 2cm;
        width: 4.5cm;
    }

    .sitio_tabla, .cong_tabla
    {
        table-layout: fixed;
        width: 120%;
    }

    .sitio_tabla .integer, .sitio_tabla .date, .sitio_tabla .string, .sitio_tabla .double
    {
        width: 1.2cm;
    }

    .sitio_tabla #Conjunta_sitio_imagen_elipsoide
    {
        width: 2cm;
    }
    
    .centrar
    {
        text-align: center;
    }

    .derecha
    {
        text-align: right;
    }
<!--
    SQLFORM.widgets.string.widget
    SQLFORM.widgets.text.widget
    SQLFORM.widgets.password.widget
    SQLFORM.widgets.integer.widget
    SQLFORM.widgets.double.widget
    SQLFORM.widgets.time.widget
    SQLFORM.widgets.date.widget
    SQLFORM.widgets.datetime.widget
    SQLFORM.widgets.upload.widget
    SQLFORM.widgets.boolean.widget
    SQLFORM.widgets.options.widget
    SQLFORM.widgets.multiple.widget
    SQLFORM.widgets.radio.widget
    SQLFORM.widgets.checkboxes.widget
    SQLFORM.widgets.autocomplete
-->

</style>
{{end}}

{{=congForm.custom.begin}}
<fieldset>
    <legend>
        Datos del conglomerado
    </legend>
    <table class='cong_tabla'>
        <tr>
            <td>
                <div>
                    {{=congForm.custom.label.nombre}}
                </div>
                <div>
                    {{=congForm.custom.widget.nombre}}
                </div>
            </td>
            <td>
                <div>
                    {{=congForm.custom.label.fecha_visita}}
                </div>
                <div>
                    {{=congForm.custom.widget.fecha_visita}}
                </div>
            </td>
            <td>
                <div>
                    {{=congForm.custom.label.tipo}}
                </div>
                <div>
                    {{=congForm.custom.widget.tipo}}
                </div>
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                <div>
                    {{=congForm.custom.label.estado}}
                </div>
                <div>
                    {{=congForm.custom.widget.estado}}
                </div>
            </td>
            <td>
                <div>
                    {{=congForm.custom.label.municipio}}
                </div>
                <div>
                    {{=congForm.custom.widget.municipio}}
                </div>
            </td>
            <td>
                <div>
                    {{=congForm.custom.label.predio}}
                </div>
                <div>
                    {{=congForm.custom.widget.predio}}
                </div>
            </td>
            <td>
                <div>
                    {{=congForm.custom.label.tenencia}}
                </div>
                <div>
                    {{=congForm.custom.widget.tenencia}}
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div>
                    {{=congForm.custom.label.uso_suelo_tipo}}
                </div>
                <div>
                    {{=congForm.custom.widget.uso_suelo_tipo}}
                </div>
            </td>
            <td>
                <!--La clase VegetaciÃ³n sirve para el JQuery que desvanece/reaparece el campo-->
                <div class="vegetacion">
                    {{=congForm.custom.label.vegetacion_tipo}}
                </div>
                <div class="vegetacion">
                    {{=congForm.custom.widget.vegetacion_tipo}}
                </div>
            </td>
            <td>
                <div class="vegetacion">
                    {{=congForm.custom.label.perturbado}}
                </div>
                <div class="vegetacion">
                    {{=congForm.custom.widget.perturbado}}
                </div>
            </td>
            <td></td>
        </tr>
    </table>
    <div>
        <div>
            {{=congForm.custom.label.comentario}}
        </div>
        <div>
            {{=congForm.custom.widget.comentario}}
        </div>
    </div>
</fieldset>
{{=congForm.custom.end}}

<button onclick="document.getElementById('forma_conglomerado').submit();">
    Enviar formulario
</button>

<!--document.getElementById('forma_sitio1').submit();
                 document.getElementById('forma_sitio2').submit();
                 document.getElementById('forma_sitio3').submit();
                 document.getElementById('forma_sitio4').submit();
                 document.getElementById('forma_control').submit()-->

<script>
    $(document).ready
    (
        function()
        {
           $('.vegetacion').hide();
           $('#Conglomerado_muestra_vegetacion_tipo').val("1");
           $('#Conglomerado_muestra_uso_suelo_tipo').val("");
        }
    )
    $('#Conglomerado_muestra_uso_suelo_tipo').change
    (
        function()
        {
            if($(this).val()=="12")
            {
                $('.vegetacion').fadeIn();
                $('#Conglomerado_muestra_vegetacion_tipo').val("");
            }
            else
            {
                $('.vegetacion').fadeOut();
                $('#Conglomerado_muestra_vegetacion_tipo').val("1");
            }
        }
    )
</script>
